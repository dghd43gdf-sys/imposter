import{r as m,a as Ct}from"./vendor-DEk_hCuk.js";import{u as ge,a as Ye,b as Ie,R as Tt,c as ee,B as At}from"./router-D74FnJ6B.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();var Xe={exports:{}},ye={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lt=m,Ot=Symbol.for("react.element"),Bt=Symbol.for("react.fragment"),Pt=Object.prototype.hasOwnProperty,It=Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rt={key:!0,ref:!0,__self:!0,__source:!0};function Qe(n,t,s){var r,i={},o=null,l=null;s!==void 0&&(o=""+s),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Pt.call(t,r)&&!Rt.hasOwnProperty(r)&&(i[r]=t[r]);if(n&&n.defaultProps)for(r in t=n.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Ot,type:n,key:o,ref:l,props:i,_owner:It.current}}ye.Fragment=Bt;ye.jsx=Qe;ye.jsxs=Qe;Xe.exports=ye;var e=Xe.exports,et,Ve=Ct;et=Ve.createRoot,Ve.hydrateRoot;const J=Object.create(null);J.open="0";J.close="1";J.ping="2";J.pong="3";J.message="4";J.upgrade="5";J.noop="6";const me=Object.create(null);Object.keys(J).forEach(n=>{me[J[n]]=n});const Ce={type:"error",data:"parser error"},tt=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",st=typeof ArrayBuffer=="function",nt=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Re=({type:n,data:t},s,r)=>tt&&t instanceof Blob?s?r(t):Fe(t,r):st&&(t instanceof ArrayBuffer||nt(t))?s?r(t):Fe(new Blob([t]),r):r(J[n]+(t||"")),Fe=(n,t)=>{const s=new FileReader;return s.onload=function(){const r=s.result.split(",")[1];t("b"+(r||""))},s.readAsDataURL(n)};function Ue(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let ke;function Mt(n,t){if(tt&&n.data instanceof Blob)return n.data.arrayBuffer().then(Ue).then(t);if(st&&(n.data instanceof ArrayBuffer||nt(n.data)))return t(Ue(n.data));Re(n,!1,s=>{ke||(ke=new TextEncoder),t(ke.encode(s))})}const He="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",re=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<He.length;n++)re[He.charCodeAt(n)]=n;const Wt=n=>{let t=n.length*.75,s=n.length,r,i=0,o,l,d,u;n[n.length-1]==="="&&(t--,n[n.length-2]==="="&&t--);const g=new ArrayBuffer(t),b=new Uint8Array(g);for(r=0;r<s;r+=4)o=re[n.charCodeAt(r)],l=re[n.charCodeAt(r+1)],d=re[n.charCodeAt(r+2)],u=re[n.charCodeAt(r+3)],b[i++]=o<<2|l>>4,b[i++]=(l&15)<<4|d>>2,b[i++]=(d&3)<<6|u&63;return g},Dt=typeof ArrayBuffer=="function",Me=(n,t)=>{if(typeof n!="string")return{type:"message",data:rt(n,t)};const s=n.charAt(0);return s==="b"?{type:"message",data:$t(n.substring(1),t)}:me[s]?n.length>1?{type:me[s],data:n.substring(1)}:{type:me[s]}:Ce},$t=(n,t)=>{if(Dt){const s=Wt(n);return rt(s,t)}else return{base64:!0,data:n}},rt=(n,t)=>{switch(t){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},it="",qt=(n,t)=>{const s=n.length,r=new Array(s);let i=0;n.forEach((o,l)=>{Re(o,!1,d=>{r[l]=d,++i===s&&t(r.join(it))})})},zt=(n,t)=>{const s=n.split(it),r=[];for(let i=0;i<s.length;i++){const o=Me(s[i],t);if(r.push(o),o.type==="error")break}return r};function Vt(){return new TransformStream({transform(n,t){Mt(n,s=>{const r=s.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(s)})}})}let _e;function ae(n){return n.reduce((t,s)=>t+s.length,0)}function le(n,t){if(n[0].length===t)return n.shift();const s=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)s[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),s}function Ft(n,t){_e||(_e=new TextDecoder);const s=[];let r=0,i=-1,o=!1;return new TransformStream({transform(l,d){for(s.push(l);;){if(r===0){if(ae(s)<1)break;const u=le(s,1);o=(u[0]&128)===128,i=u[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(ae(s)<2)break;const u=le(s,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(r===2){if(ae(s)<8)break;const u=le(s,8),g=new DataView(u.buffer,u.byteOffset,u.length),b=g.getUint32(0);if(b>Math.pow(2,21)-1){d.enqueue(Ce);break}i=b*Math.pow(2,32)+g.getUint32(4),r=3}else{if(ae(s)<i)break;const u=le(s,i);d.enqueue(Me(o?u:_e.decode(u),t)),r=0}if(i===0||i>n){d.enqueue(Ce);break}}}})}const ot=4;function T(n){if(n)return Ut(n)}function Ut(n){for(var t in T.prototype)n[t]=T.prototype[t];return n}T.prototype.on=T.prototype.addEventListener=function(n,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(t),this};T.prototype.once=function(n,t){function s(){this.off(n,s),t.apply(this,arguments)}return s.fn=t,this.on(n,s),this};T.prototype.off=T.prototype.removeListener=T.prototype.removeAllListeners=T.prototype.removeEventListener=function(n,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<s.length;i++)if(r=s[i],r===t||r.fn===t){s.splice(i,1);break}return s.length===0&&delete this._callbacks["$"+n],this};T.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+n],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(s){s=s.slice(0);for(var r=0,i=s.length;r<i;++r)s[r].apply(this,t)}return this};T.prototype.emitReserved=T.prototype.emit;T.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};T.prototype.hasListeners=function(n){return!!this.listeners(n).length};const we=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),z=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Ht="arraybuffer";function at(n,...t){return t.reduce((s,r)=>(n.hasOwnProperty(r)&&(s[r]=n[r]),s),{})}const Kt=z.setTimeout,Jt=z.clearTimeout;function je(n,t){t.useNativeTimers?(n.setTimeoutFn=Kt.bind(z),n.clearTimeoutFn=Jt.bind(z)):(n.setTimeoutFn=z.setTimeout.bind(z),n.clearTimeoutFn=z.clearTimeout.bind(z))}const Zt=1.33;function Gt(n){return typeof n=="string"?Yt(n):Math.ceil((n.byteLength||n.size)*Zt)}function Yt(n){let t=0,s=0;for(let r=0,i=n.length;r<i;r++)t=n.charCodeAt(r),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(r++,s+=4);return s}function lt(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Xt(n){let t="";for(let s in n)n.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(n[s]));return t}function Qt(n){let t={},s=n.split("&");for(let r=0,i=s.length;r<i;r++){let o=s[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class es extends Error{constructor(t,s,r){super(t),this.description=s,this.context=r,this.type="TransportError"}}class We extends T{constructor(t){super(),this.writable=!1,je(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,s,r){return super.emitReserved("error",new es(t,s,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=Me(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=Xt(t);return s.length?"?"+s:""}}class ts extends We{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||s()})),this.writable||(r++,this.once("drain",function(){--r||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};zt(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,qt(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=lt()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}}let ct=!1;try{ct=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ss=ct;function ns(){}class rs extends ts{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let r=location.port;r||(r=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,s){const r=this.request({method:"POST",data:t});r.on("success",s),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,r)=>{this.onError("xhr poll error",s,r)}),this.pollXhr=t}}class K extends T{constructor(t,s,r){super(),this.createRequest=t,je(this,r),this._opts=r,this._method=r.method||"GET",this._uri=s,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const s=at(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(s);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=K.requestsCount++,K.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ns,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete K.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}K.requestsCount=0;K.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ke);else if(typeof addEventListener=="function"){const n="onpagehide"in z?"pagehide":"unload";addEventListener(n,Ke,!1)}}function Ke(){for(let n in K.requests)K.requests.hasOwnProperty(n)&&K.requests[n].abort()}const is=function(){const n=dt({xdomain:!1});return n&&n.responseType!==null}();class os extends rs{constructor(t){super(t);const s=t&&t.forceBase64;this.supportsBinary=is&&!s}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new K(dt,this.uri(),t)}}function dt(n){const t=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||ss))return new XMLHttpRequest}catch{}if(!t)try{return new z[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const ht=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class as extends We{get name(){return"websocket"}doOpen(){const t=this.uri(),s=this.opts.protocols,r=ht?{}:at(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,s,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const r=t[s],i=s===t.length-1;Re(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&we(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=lt()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}}const Se=z.WebSocket||z.MozWebSocket;class ls extends as{createSocket(t,s,r){return ht?new Se(t,s,r):s?new Se(t,s):new Se(t)}doWrite(t,s){this.ws.send(s)}}class cs extends We{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=Ft(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(s).getReader(),i=Vt();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const o=()=>{r.read().then(({done:d,value:u})=>{d||(this.onPacket(u),o())}).catch(d=>{})};o();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const r=t[s],i=s===t.length-1;this._writer.write(r).then(()=>{i&&we(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const ds={websocket:ls,webtransport:cs,polling:os},hs=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ms=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Te(n){if(n.length>8e3)throw"URI too long";const t=n,s=n.indexOf("["),r=n.indexOf("]");s!=-1&&r!=-1&&(n=n.substring(0,s)+n.substring(s,r).replace(/:/g,";")+n.substring(r,n.length));let i=hs.exec(n||""),o={},l=14;for(;l--;)o[ms[l]]=i[l]||"";return s!=-1&&r!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=us(o,o.path),o.queryKey=fs(o,o.query),o}function us(n,t){const s=/\/{2,9}/g,r=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function fs(n,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(s[i]=o)}),s}const Ae=typeof addEventListener=="function"&&typeof removeEventListener=="function",ue=[];Ae&&addEventListener("offline",()=>{ue.forEach(n=>n())},!1);class Z extends T{constructor(t,s){if(super(),this.binaryType=Ht,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(s=t,t=null),t){const r=Te(t);s.hostname=r.host,s.secure=r.protocol==="https"||r.protocol==="wss",s.port=r.port,r.query&&(s.query=r.query)}else s.host&&(s.hostname=Te(s.host).host);je(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Qt(this.opts.query)),Ae&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ue.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=ot,s.transport=t,this.id&&(s.sid=this.id);const r=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Z.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(t);s.open(),this.setTransport(s)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",Z.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=t.data,this._onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(s+=Gt(i)),r>0&&s>this._maxPayload)return this.writeBuffer.slice(0,r);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,we(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,s,r){return this._sendPacket("message",t,s,r),this}send(t,s,r){return this._sendPacket("message",t,s,r),this}_sendPacket(t,s,r,i){if(typeof s=="function"&&(i=s,s=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:t,data:s,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},r=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Z.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ae&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=ue.indexOf(this._offlineEventListener);r!==-1&&ue.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this._prevBufferLen=0}}}Z.protocol=ot;class ps extends Z{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let s=this.createTransport(t),r=!1;Z.priorWebsocketSuccess=!1;const i=()=>{r||(s.send([{type:"ping",data:"probe"}]),s.once("packet",N=>{if(!r)if(N.type==="pong"&&N.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Z.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(b(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=s.name,this.emitReserved("upgradeError",y)}}))};function o(){r||(r=!0,b(),s.close(),s=null)}const l=N=>{const y=new Error("probe error: "+N);y.transport=s.name,o(),this.emitReserved("upgradeError",y)};function d(){l("transport closed")}function u(){l("socket closed")}function g(N){s&&N.name!==s.name&&o()}const b=()=>{s.removeListener("open",i),s.removeListener("error",l),s.removeListener("close",d),this.off("close",u),this.off("upgrading",g)};s.once("open",i),s.once("error",l),s.once("close",d),this.once("close",u),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||s.open()},200):s.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const s=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&s.push(t[r]);return s}}let xs=class extends ps{constructor(t,s={}){const r=typeof t=="object"?t:s;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>ds[i]).filter(i=>!!i)),super(t,r)}};function bs(n,t="",s){let r=n;s=s||typeof location<"u"&&location,n==null&&(n=s.protocol+"//"+s.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=s.protocol+n:n=s.host+n),/^(https?|wss?):\/\//.test(n)||(typeof s<"u"?n=s.protocol+"//"+n:n="https://"+n),r=Te(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(s&&s.port===r.port?"":":"+r.port),r}const gs=typeof ArrayBuffer=="function",ys=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,mt=Object.prototype.toString,ws=typeof Blob=="function"||typeof Blob<"u"&&mt.call(Blob)==="[object BlobConstructor]",js=typeof File=="function"||typeof File<"u"&&mt.call(File)==="[object FileConstructor]";function De(n){return gs&&(n instanceof ArrayBuffer||ys(n))||ws&&n instanceof Blob||js&&n instanceof File}function fe(n,t){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let s=0,r=n.length;s<r;s++)if(fe(n[s]))return!0;return!1}if(De(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return fe(n.toJSON(),!0);for(const s in n)if(Object.prototype.hasOwnProperty.call(n,s)&&fe(n[s]))return!0;return!1}function Ns(n){const t=[],s=n.data,r=n;return r.data=Le(s,t),r.attachments=t.length,{packet:r,buffers:t}}function Le(n,t){if(!n)return n;if(De(n)){const s={_placeholder:!0,num:t.length};return t.push(n),s}else if(Array.isArray(n)){const s=new Array(n.length);for(let r=0;r<n.length;r++)s[r]=Le(n[r],t);return s}else if(typeof n=="object"&&!(n instanceof Date)){const s={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=Le(n[r],t));return s}return n}function vs(n,t){return n.data=Oe(n.data,t),delete n.attachments,n}function Oe(n,t){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<t.length)return t[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let s=0;s<n.length;s++)n[s]=Oe(n[s],t);else if(typeof n=="object")for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(n[s]=Oe(n[s],t));return n}const ks=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],_s=5;var w;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(w||(w={}));class Ss{constructor(t){this.replacer=t}encode(t){return(t.type===w.EVENT||t.type===w.ACK)&&fe(t)?this.encodeAsBinary({type:t.type===w.EVENT?w.BINARY_EVENT:w.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===w.BINARY_EVENT||t.type===w.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=Ns(t),r=this.encodeAsString(s.packet),i=s.buffers;return i.unshift(r),i}}function Je(n){return Object.prototype.toString.call(n)==="[object Object]"}class $e extends T{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const r=s.type===w.BINARY_EVENT;r||s.type===w.BINARY_ACK?(s.type=r?w.EVENT:w.ACK,this.reconstructor=new Es(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(De(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const r={type:Number(t.charAt(0))};if(w[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===w.BINARY_EVENT||r.type===w.BINARY_ACK){const o=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const l=t.substring(o,s);if(l!=Number(l)||t.charAt(s)!=="-")throw new Error("Illegal attachments");r.attachments=Number(l)}if(t.charAt(s+1)==="/"){const o=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););r.nsp=t.substring(o,s)}else r.nsp="/";const i=t.charAt(s+1);if(i!==""&&Number(i)==i){const o=s+1;for(;++s;){const l=t.charAt(s);if(l==null||Number(l)!=l){--s;break}if(s===t.length)break}r.id=Number(t.substring(o,s+1))}if(t.charAt(++s)){const o=this.tryParse(t.substr(s));if($e.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case w.CONNECT:return Je(s);case w.DISCONNECT:return s===void 0;case w.CONNECT_ERROR:return typeof s=="string"||Je(s);case w.EVENT:case w.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&ks.indexOf(s[0])===-1);case w.ACK:case w.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Es{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=vs(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Cs=Object.freeze(Object.defineProperty({__proto__:null,Decoder:$e,Encoder:Ss,get PacketType(){return w},protocol:_s},Symbol.toStringTag,{value:"Module"}));function F(n,t,s){return n.on(t,s),function(){n.off(t,s)}}const Ts=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ut extends T{constructor(t,s,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[F(t,"open",this.onopen.bind(this)),F(t,"packet",this.onpacket.bind(this)),F(t,"error",this.onerror.bind(this)),F(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){var r,i,o;if(Ts.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const l={type:w.EVENT,data:s};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const b=this.ids++,N=s.pop();this._registerAckCallback(b,N),l.id=b}const d=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,u=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!d||(u?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(t,s){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=s;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===t&&this.sendBuffer.splice(d,1);s.call(this,new Error("operation has timed out"))},i),l=(...d)=>{this.io.clearTimeoutFn(o),s.apply(this,d)};l.withError=!0,this.acks[t]=l}emitWithAck(t,...s){return new Promise((r,i)=>{const o=(l,d)=>l?i(l):r(d);o.withError=!0,s.push(o),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(i)):(this._queue.shift(),s&&s(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:w.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case w.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case w.EVENT:case w.BINARY_EVENT:this.onevent(t);break;case w.ACK:case w.BINARY_ACK:this.onack(t);break;case w.DISCONNECT:this.ondisconnect();break;case w.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const r of s)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let r=!1;return function(...i){r||(r=!0,s.packet({type:w.ACK,id:t,data:i}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:w.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let r=0;r<s.length;r++)if(t===s[r])return s.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let r=0;r<s.length;r++)if(t===s[r])return s.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const r of s)r.apply(this,t.data)}}}function se(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}se.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*n);n=Math.floor(t*10)&1?n+s:n-s}return Math.min(n,this.max)|0};se.prototype.reset=function(){this.attempts=0};se.prototype.setMin=function(n){this.ms=n};se.prototype.setMax=function(n){this.max=n};se.prototype.setJitter=function(n){this.jitter=n};class Be extends T{constructor(t,s){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,je(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((r=s.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new se({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const i=s.parser||Cs;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new xs(this.uri,this.opts);const s=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=F(s,"open",function(){r.onopen(),t&&t()}),o=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),t?t(d):this.maybeReconnectOnOpen()},l=F(s,"error",o);if(this._timeout!==!1){const d=this._timeout,u=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),s.close()},d);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(F(t,"ping",this.onping.bind(this)),F(t,"data",this.ondata.bind(this)),F(t,"error",this.onerror.bind(this)),F(t,"close",this.onclose.bind(this)),F(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){we(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new ut(this,t,s),this.nsps[t]=r),r}_destroy(t){const s=Object.keys(this.nsps);for(const r of s)if(this.nsps[r].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let r=0;r<s.length;r++)this.engine.write(s[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,s){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},s);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ne={};function pe(n,t){typeof n=="object"&&(t=n,n=void 0),t=t||{};const s=bs(n,t.path||"/socket.io"),r=s.source,i=s.id,o=s.path,l=ne[i]&&o in ne[i].nsps,d=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let u;return d?u=new Be(r,t):(ne[i]||(ne[i]=new Be(r,t)),u=ne[i]),s.query&&!t.query&&(t.query=s.queryKey),u.socket(s.path,t)}Object.assign(pe,{Manager:Be,Socket:ut,io:pe,connect:pe});const As=()=>{const n=m.useRef(null);return m.useEffect(()=>{const t=window.location.origin;return n.current=pe(t),()=>{n.current&&n.current.disconnect()}},[]),n.current},ce=()=>e.jsx("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-gray-900 to-slate-800",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500/15 rounded-full blur-3xl animate-float",style:{animation:"float 20s ease-in-out infinite"}}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/15 rounded-full blur-3xl animate-float",style:{animation:"float 25s ease-in-out infinite reverse"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl animate-float",style:{animation:"float 30s ease-in-out infinite"}}),e.jsx("div",{className:"absolute top-3/4 left-1/6 w-64 h-64 bg-cyan-500/10 rounded-full blur-2xl animate-float",style:{animation:"float 18s ease-in-out infinite"}}),e.jsx("div",{className:"absolute top-1/6 right-1/3 w-48 h-48 bg-pink-500/8 rounded-full blur-2xl animate-float",style:{animation:"float 22s ease-in-out infinite reverse"}}),e.jsx("div",{className:"absolute inset-0 opacity-5 animate-grid-move",style:{backgroundImage:`
              linear-gradient(rgba(59, 130, 246, 0.1) 1px, transparent 1px),
              linear-gradient(90deg, rgba(59, 130, 246, 0.1) 1px, transparent 1px)
            `,backgroundSize:"50px 50px"}})]})});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ls={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),k=(n,t)=>{const s=m.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:d="",children:u,...g},b)=>m.createElement("svg",{ref:b,...Ls,width:i,height:i,stroke:r,strokeWidth:l?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Os(n)}`,d].join(" "),...g},[...t.map(([N,y])=>m.createElement(N,y)),...Array.isArray(u)?u:[u]]));return s.displayName=`${n}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=k("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=k("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=k("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=k("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=k("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=k("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=k("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=k("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=k("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=k("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=k("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=k("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=k("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=k("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=k("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=k("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=k("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=k("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=k("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=k("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=k("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=k("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=k("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=k("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=k("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=k("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=k("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=k("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=k("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ks=({user:n,onLogout:t,lobbyCode:s,hostUsername:r,gamePhase:i="lobby"})=>{const o=ge(),l=Ye(),d=b=>l.pathname===b;l.pathname.includes("/lobby/")||l.pathname.includes("/game/");const u=l.pathname.includes("/lobby/");return i&&i!=="lobby"?null:e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-900/80 backdrop-blur-xl border-b border-slate-700/50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:e.jsx(ft,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-xl font-bold text-white",children:"Imposter"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("button",{onClick:()=>o("/dashboard"),className:`nav-link ${d("/dashboard")?"nav-link-active":""}`,children:[e.jsx(Ms,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}),s&&e.jsxs("button",{onClick:()=>o(`/lobby/${s}`),className:`flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-200 font-medium ${u?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg shadow-blue-500/25 animate-glow":"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 shadow-lg"}`,children:[e.jsx(X,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:r?`Lobby von ${r}`:`Lobby ${s}`}),e.jsx("span",{className:"sm:hidden font-mono text-sm",children:s})]}),e.jsxs("button",{onClick:()=>o("/profile"),className:`flex items-center space-x-3 px-4 py-2 rounded-xl transition-all duration-200 ${d("/profile")?"bg-slate-700/50 text-white":"text-slate-300 hover:text-white hover:bg-slate-700/50"}`,children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(Ne,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"font-medium",children:n.username})]}),e.jsx("div",{className:"h-6 w-px bg-slate-600 mx-2"}),e.jsxs("button",{onClick:t,className:"nav-link text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[e.jsx(pt,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})})},he=({onLogin:n})=>{const[t,s]=m.useState("login"),[r,i]=m.useState(""),[o,l]=m.useState(""),[d,u]=m.useState(!1),[g,b]=m.useState(!1),[N,y]=m.useState(null),M=E=>{const P=E.target.value;P.length<=20&&i(P)},L=async E=>{if(E.preventDefault(),!(!r.trim()||!o.trim())){if(r.trim().length<3){y("Benutzername muss mindestens 3 Zeichen lang sein.");return}if(r.trim().length>20){y("Benutzername darf maximal 20 Zeichen lang sein.");return}b(!0),y(null);try{const c=await(await fetch(t==="login"?"/api/login":"/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r.trim(),password:o})})).json();c.success?n(c.user):y(c.error||"Ein Fehler ist aufgetreten")}catch{y("Verbindungsfehler. Bitte versuche es erneut.")}finally{b(!1)}}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"modern-card w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:e.jsx(ft,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-3",children:"Imposter"}),e.jsx("p",{className:"text-slate-400 text-lg",children:t==="login"?"Willkommen zurck!":"Erstelle deinen Account"})]}),N&&e.jsx("div",{className:"modern-card bg-red-500/10 border-red-500/30 p-4 mb-6 text-center",children:e.jsx("p",{className:"text-red-300 text-sm",children:N})}),e.jsxs("form",{onSubmit:L,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-300 mb-3",children:"Benutzername"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ne,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx("input",{id:"username",type:"text",value:r,onChange:M,placeholder:"Dein Benutzername",className:"modern-input pl-12",maxLength:20,required:!0})]}),e.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["3-20 Zeichen (",r.length,"/20)"]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-300 mb-3",children:"Passwort"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:d?"text":"password",value:o,onChange:E=>l(E.target.value),placeholder:"Dein Passwort",className:"modern-input pr-14",minLength:6,required:!0}),e.jsx("button",{type:"button",onClick:()=>u(!d),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-white transition-colors",children:d?e.jsx(xe,{className:"w-5 h-5"}):e.jsx(Y,{className:"w-5 h-5"})})]}),t==="register"&&e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Mindestens 6 Zeichen"})]}),e.jsxs("button",{type:"submit",disabled:g||!r.trim()||!o.trim()||r.trim().length<3,className:"modern-btn modern-btn-primary w-full py-4 flex items-center justify-center space-x-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[t==="login"?e.jsx(Ds,{className:"w-5 h-5"}):e.jsx(Us,{className:"w-5 h-5"}),e.jsx("span",{children:g?t==="login"?"Anmelden...":"Registrieren...":t==="login"?"Anmelden":"Registrieren"})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx("button",{onClick:()=>{s(t==="login"?"register":"login"),y(null),i(""),l("")},className:"text-slate-400 hover:text-blue-400 transition-colors",children:t==="login"?"Noch kein Account? Hier registrieren":"Bereits einen Account? Hier anmelden"})})]})})},oe=({children:n,title:t,subtitle:s,maxWidth:r="lg"})=>{const i={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl",full:"max-w-full"};return e.jsx("div",{className:"min-h-screen pt-16",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:`mx-auto ${i[r]}`,children:[(t||s)&&e.jsxs("div",{className:"text-center mb-8",children:[t&&e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:t}),s&&e.jsx("p",{className:"text-slate-400",children:s})]}),n]})})})},Js=({user:n,onCreateLobby:t,onJoinLobby:s,loading:r})=>{const[i,o]=m.useState(!1),[l,d]=m.useState("");m.useEffect(()=>{(()=>{const L=window.location.pathname.match(/\/lobby\/([A-Z0-9]{6})/);if(L){const f=L[1];s(f);return}const P=window.location.href.match(/\/lobby\/([A-Z0-9]{6})/);if(P){const f=P[1];s(f)}})()},[s]);const u=y=>{y.preventDefault(),l.trim().length===6&&s(l.trim().toUpperCase())},g=n.gamesPlayed||0,b=n.timesImposter||0,N=n.imposterWins||0;return e.jsx(oe,{maxWidth:"xl",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:e.jsx("span",{className:"text-5xl",children:""})}),e.jsxs("h1",{className:"text-4xl font-bold text-white mb-4",children:["Willkommen zurck, ",n.username,"!"]}),e.jsx("p",{className:"text-slate-400 text-lg",children:"Bereit fr eine neue Runde Imposter?"})]}),e.jsxs("div",{className:"modern-card p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center space-x-2",children:[e.jsx(ie,{className:"w-6 h-6 text-blue-400"}),e.jsx("span",{children:"Deine Statistiken"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-400 mb-2",children:[e.jsx(X,{className:"w-6 h-6"}),e.jsx("span",{className:"text-2xl font-bold",children:g})]}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Spiele"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-purple-400 mb-2",children:[e.jsx(bt,{className:"w-6 h-6"}),e.jsx("span",{className:"text-2xl font-bold",children:b})]}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Imposter"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-400 mb-2",children:[e.jsx(be,{className:"w-6 h-6"}),e.jsx("span",{className:"text-2xl font-bold",children:N})]}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Siege"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6 pt-6 border-t border-slate-700",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Imposter-Rate"}),e.jsxs("p",{className:"text-lg font-bold text-cyan-400",children:[g>0?Math.round(b/g*100):0,"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Imposter Siegesrate"}),e.jsxs("p",{className:"text-lg font-bold text-green-400",children:[b>0?Math.round(N/b*100):0,"%"]})]})]})]}),e.jsx("div",{className:"space-y-4",children:i?e.jsxs("div",{className:"modern-card p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4 text-center",children:"Lobby beitreten"}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lobbyCode",className:"block text-sm font-medium text-slate-300 mb-2",children:"Lobby-Code"}),e.jsx("input",{id:"lobbyCode",type:"text",value:l,onChange:y=>d(y.target.value.toUpperCase()),placeholder:"ABCDEF",className:"modern-input text-center text-2xl font-mono tracking-widest",maxLength:6,required:!0})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>{o(!1),d("")},className:"modern-btn modern-btn-neutral flex-1 py-3",children:"Abbrechen"}),e.jsxs("button",{type:"submit",disabled:l.length!==6||r,className:"modern-btn modern-btn-primary flex-1 py-3 disabled:opacity-50 flex items-center justify-center space-x-2",children:[e.jsx(qe,{className:"w-5 h-5"}),e.jsx("span",{children:r?"Trete bei...":"Beitreten"})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:t,disabled:r,className:"modern-btn modern-btn-primary w-full py-4 flex items-center justify-center space-x-3 text-lg font-semibold disabled:opacity-50",children:[e.jsx(qs,{className:"w-6 h-6"}),e.jsx("span",{children:r?"Erstelle...":"Neue Lobby erstellen"})]}),e.jsxs("button",{onClick:()=>o(!0),disabled:r,className:"modern-btn modern-btn-secondary w-full py-4 flex items-center justify-center space-x-3 text-lg font-semibold disabled:opacity-50",children:[e.jsx(X,{className:"w-6 h-6"}),e.jsx("span",{children:"Bestehender Lobby beitreten"})]})]})})]})})},Zs=({lobbyCode:n,players:t,gameState:s,currentPlayerId:r,isHost:i,hostUsername:o,onStartGame:l,onRestartGame:d,onLeaveLobby:u,onCloseLobby:g,onUpdateSettings:b,settings:N={randomOrder:!0,twoImposters:!1,threeImposters:!1,imposterHint:!1,wordTimeMode:!1,survivalMode:!1,wordTimeSeconds:10}})=>{const{code:y}=Ie(),M=ge(),[L,E]=m.useState(!1),[P,f]=m.useState(!1),[c,O]=m.useState(N);m.useEffect(()=>{O(N)},[N]),m.useEffect(()=>{y&&n&&y!==n&&M(`/lobby/${n}`)},[y,n,M]),m.useEffect(()=>{const p=j=>{j.preventDefault(),j.returnValue=""},h=j=>{j.preventDefault(),window.history.pushState(null,"",window.location.href)};return window.addEventListener("beforeunload",p),window.addEventListener("popstate",h),window.history.pushState(null,"",window.location.href),()=>{window.removeEventListener("beforeunload",p),window.removeEventListener("popstate",h)}},[]);const _=t.filter(p=>!p.isEliminated),U=()=>c.threeImposters?5:c.twoImposters?4:3,I=_.length>=U()&&_.length<=10&&s.phase==="lobby",D=i&&s.phase==="results",S=async()=>{try{await navigator.clipboard.writeText(n),E(!0),setTimeout(()=>E(!1),2e3)}catch{const h=document.createElement("textarea");h.value=n,h.style.position="fixed",h.style.left="-999999px",h.style.top="-999999px",document.body.appendChild(h),h.focus(),h.select();try{document.execCommand("copy"),E(!0),setTimeout(()=>E(!1),2e3)}catch(j){console.error("Failed to copy:",j)}document.body.removeChild(h)}},v=p=>{if(!i||!b)return;const h={...c};h.wordTimeMode=!1,h.survivalMode=!1,h.twoImposters=!1,h.threeImposters=!1,p==="wordTime"?h.wordTimeMode=!0:p==="survival"&&(h.survivalMode=!0),O(h),b(h)},B=(p,h)=>{const j={...c};p==="twoImposters"&&h?j.threeImposters=!1:p==="threeImposters"&&h&&(j.twoImposters=!1),j[p]=h,O(j),b&&b(j)},R=async p=>{p&&M(`/profile/${p}`)},q=()=>{M("/profile")},V=o?`Lobby von ${o}`:`Lobby ${n}`;return e.jsx(oe,{maxWidth:"2xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start gap-6",children:[e.jsx("div",{className:"flex-1 w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx(X,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:V}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[e.jsx("div",{className:"modern-card p-3 w-full sm:w-auto",children:e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx("span",{className:"text-slate-300 font-medium",children:"Code:"}),e.jsx("span",{className:"text-white font-mono text-lg font-bold tracking-wider",children:n}),e.jsx("button",{onClick:S,className:"p-2 hover:bg-slate-600/50 rounded-xl transition-all duration-200",title:"Code kopieren",children:L?e.jsx(te,{className:"w-4 h-4 text-green-400"}):e.jsx(Is,{className:"w-4 h-4 text-slate-400 hover:text-white"})})]})}),e.jsx("div",{className:"modern-card p-3 w-full sm:w-auto",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-slate-300 font-medium",children:"Spieler: "}),e.jsxs("span",{className:"text-white font-bold text-lg",children:[_.length,"/10"]})]})})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[i&&s.phase==="lobby"&&e.jsxs("button",{onClick:()=>f(!0),className:"modern-btn modern-btn-secondary p-3 flex items-center space-x-2",title:"Einstellungen",children:[e.jsx(Vs,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline text-sm",children:"Einstellungen"})]}),i&&e.jsxs("button",{onClick:g,className:"modern-btn modern-btn-danger p-3 flex items-center space-x-2",title:"Lobby schlieen",children:[e.jsx(Fs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Schlieen"})]}),e.jsxs("button",{onClick:u,className:"modern-btn modern-btn-neutral p-3 flex items-center space-x-2",title:"Lobby verlassen",children:[e.jsx(pt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Verlassen"})]})]})]}),s.phase!=="lobby"&&e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"inline-flex items-center space-x-3 modern-card px-4 py-2",children:[e.jsx(Pe,{className:"w-4 h-4 text-blue-400"}),e.jsxs("span",{className:"text-blue-300 font-semibold",children:["Spielphase: ",s.phase==="word-reveal"?"Wort-Enthllung":s.phase==="discussion"?"Diskussion":s.phase==="voting"?"Abstimmung":s.phase==="results"?"Ergebnisse":s.phase==="word-time-countdown"?"Countdown":s.phase==="word-time-speaking"?"Wortzeit":s.phase==="word-time-waiting"?"Warten auf nchste Runde":s.phase]})]})}),s.phase==="lobby"&&e.jsxs("div",{className:"modern-card p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center space-x-2",children:[e.jsx(ie,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{children:"Spielmodus"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>v("standard"),disabled:!i,className:`p-4 text-center transition-all duration-200 rounded-xl font-semibold ${!c.wordTimeMode&&!c.survivalMode?"modern-btn modern-btn-primary":"modern-card hover:border-slate-500/50"} ${i?"":"cursor-default"}`,children:[e.jsx("h4",{className:"text-white font-semibold mb-1",children:"Standard"}),e.jsx("p",{className:"text-slate-400 text-xs",children:"Klassisches Imposter Spiel"})]}),e.jsxs("button",{onClick:()=>v("wordTime"),disabled:!i,className:`p-4 text-center transition-all duration-200 rounded-xl font-semibold ${c.wordTimeMode?"modern-btn modern-btn-secondary":"modern-card hover:border-slate-500/50"} ${i?"":"cursor-default"}`,children:[e.jsx("h4",{className:"text-white font-semibold mb-1",children:"Wortzeit"}),e.jsxs("p",{className:"text-slate-400 text-xs",children:[c.wordTimeSeconds," Sekunden pro Wort"]})]}),e.jsxs("button",{onClick:()=>v("survival"),disabled:!i,className:`p-4 text-center transition-all duration-200 rounded-xl font-semibold ${c.survivalMode?"modern-btn bg-gradient-to-r from-orange-600 via-orange-700 to-red-700 text-white border border-orange-500/30":"modern-card hover:border-slate-500/50"} ${i?"":"cursor-default"}`,children:[e.jsx("h4",{className:"text-white font-semibold mb-1",children:"berleben"}),e.jsx("p",{className:"text-slate-400 text-xs",children:"Bis nur 2 Spieler brig"})]})]})]}),s.phase==="lobby"&&e.jsxs("div",{className:"modern-card p-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center space-x-2",children:[e.jsx(ie,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{children:"Aktuelle Einstellungen"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-300",children:"Spielmodus:"}),e.jsx("span",{className:"text-cyan-400 font-semibold",children:c.wordTimeMode?"Wortzeit":c.survivalMode?"berleben":"Standard"})]}),c.wordTimeMode&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-300",children:"Wortzeit:"}),e.jsxs("span",{className:"text-cyan-400 font-semibold",children:[c.wordTimeSeconds,"s"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-300",children:"Zufllige Reihenfolge:"}),e.jsx("span",{className:`font-semibold ${c.randomOrder?"text-green-400":"text-red-400"}`,children:c.randomOrder?"An":"Aus"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-300",children:"Imposter-Tipp:"}),e.jsx("span",{className:`font-semibold ${c.imposterHint?"text-green-400":"text-red-400"}`,children:c.imposterHint?"An":"Aus"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-300",children:"Imposter Anzahl:"}),e.jsx("span",{className:"text-yellow-400 font-semibold",children:c.threeImposters?"3":c.twoImposters?"2":"1"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:t.map(p=>e.jsx("div",{className:`modern-card p-4 transition-all duration-300 ${p.isEliminated?"opacity-50 border-red-500/30":p.id===r?"border-blue-500/50 bg-blue-500/5":""}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 ${p.isEliminated?"bg-red-500/20":"bg-gradient-to-br from-blue-500 to-purple-600"}`,children:e.jsx(Ne,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:`font-bold truncate ${p.isEliminated?"text-slate-500":"text-white"}`,children:p.username}),p.isHost&&e.jsx(Rs,{className:"w-4 h-4 text-yellow-400 flex-shrink-0"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[p.id===r&&e.jsx("span",{className:"text-xs bg-blue-500 text-white px-2 py-1 rounded-full font-medium",children:"Du"}),p.isEliminated&&e.jsx("span",{className:"text-red-400 text-xs font-medium",children:"Eliminiert"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[p.userId&&p.id!==r&&e.jsx("button",{onClick:()=>R(p.userId),className:"p-2 hover:bg-slate-600/50 rounded-xl transition-all duration-200",title:"Profil anzeigen",children:e.jsx(Y,{className:"w-4 h-4 text-slate-400 hover:text-white"})}),p.id===r&&e.jsx("button",{onClick:q,className:"p-2 hover:bg-slate-600/50 rounded-xl transition-all duration-200",title:"Mein Profil anzeigen",children:e.jsx(Y,{className:"w-4 h-4 text-slate-400 hover:text-white"})}),s.phase==="word-reveal"&&!p.isEliminated&&e.jsx("div",{className:`w-3 h-3 rounded-full ${p.isReady?"bg-green-500":"bg-slate-500"}`}),s.phase==="voting"&&!p.isEliminated&&e.jsx("div",{className:`w-3 h-3 rounded-full ${p.hasVoted?"bg-green-500":"bg-slate-500"}`}),s.phase==="word-time-waiting"&&!p.isEliminated&&e.jsx("div",{className:`w-3 h-3 rounded-full ${p.readyForNextRound?"bg-green-500":"bg-slate-500"}`}),(s.phase==="word-reveal"||s.phase==="voting")&&p.isReady&&!p.isEliminated&&e.jsx(Ps,{className:"w-4 h-4 text-green-500"})]})]})},p.id))}),s.speakingOrder&&(s.phase==="discussion"||s.phase==="word-time-countdown"||s.phase==="word-time-speaking")&&e.jsxs("div",{className:"modern-card p-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:[c.wordTimeMode?"Wortzeit-Reihenfolge":"Sprechreihenfolge",s.roundNumber&&s.roundNumber>1&&e.jsxs("span",{className:"text-cyan-400 ml-2",children:["(Runde ",s.roundNumber,")"]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:s.speakingOrder.map((p,h)=>{const j=t.find($=>$.id===r),W=(j==null?void 0:j.username)===p,C=s.currentSpeaker===p;return e.jsxs("div",{className:`modern-card p-3 text-center transition-all duration-200 ${C?"border-green-500/50 bg-green-500/10":W?"border-blue-500/50 bg-blue-500/10":""}`,children:[e.jsxs("div",{className:"text-xs text-slate-400 mb-1 font-medium",children:["#",h+1]}),e.jsx("div",{className:`font-bold text-sm ${C?"text-green-300":W?"text-blue-300":"text-white"}`,children:W?`${p} (Du)`:p}),C&&e.jsx("div",{className:"text-xs text-green-400 mt-1",children:"Spricht jetzt"})]},h)})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3",children:[i&&I&&e.jsxs("button",{onClick:l,className:"modern-btn modern-btn-primary py-3 px-6 flex items-center justify-center space-x-3 font-semibold",children:[e.jsx(qe,{className:"w-5 h-5"}),e.jsx("span",{children:"Spiel starten"})]}),D&&e.jsxs("button",{onClick:d,className:"modern-btn modern-btn-primary py-3 px-6 flex items-center justify-center space-x-3 font-semibold",children:[e.jsx(xt,{className:"w-5 h-5"}),e.jsx("span",{children:"Neue Runde starten"})]}),!i&&s.phase==="lobby"&&e.jsxs("div",{className:"text-center text-slate-300",children:[e.jsx("p",{className:"font-medium",children:"Warte darauf, dass der Host das Spiel startet..."}),e.jsxs("p",{className:"text-sm mt-1",children:[U(),"-10 Spieler erforderlich"]})]}),!i&&s.phase==="results"&&e.jsx("div",{className:"text-center text-slate-300",children:e.jsx("p",{className:"font-medium",children:"Warte darauf, dass der Host eine neue Runde startet..."})})]}),P&&i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"modern-card w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Lobby-Einstellungen"}),e.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-slate-700/50 rounded-xl transition-colors",children:e.jsx(Hs,{className:"w-5 h-5 text-slate-400 hover:text-white"})})]}),e.jsxs("div",{className:"space-y-6",children:[c.wordTimeMode&&e.jsxs("div",{className:"border-b border-slate-700/50 pb-6",children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Wortzeit-Einstellungen"}),e.jsxs("div",{className:"modern-card p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Zeit pro Wort"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Wie lange hat jeder Spieler Zeit?"})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"text-white font-bold text-lg",children:[c.wordTimeSeconds,"s"]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"range",min:"3",max:"30",value:c.wordTimeSeconds,onChange:p=>B("wordTimeSeconds",parseInt(p.target.value)),className:"w-full h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer slider"}),e.jsxs("div",{className:"flex justify-between text-xs text-slate-400",children:[e.jsx("span",{children:"3s"}),e.jsx("span",{children:"15s"}),e.jsx("span",{children:"30s"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Allgemeine Einstellungen"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"modern-card p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Zufllige Reihenfolge"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Sprechreihenfolge wird zufllig bestimmt"})]}),e.jsx("button",{onClick:()=>B("randomOrder",!c.randomOrder),className:`w-12 h-6 rounded-full transition-colors ${c.randomOrder?"bg-blue-600":"bg-slate-600"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${c.randomOrder?"translate-x-6":"translate-x-0.5"}`})})]})}),e.jsx("div",{className:"modern-card p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Tipp fr Imposter"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Imposter sehen Wort mit versteckten Buchstaben"})]}),e.jsx("button",{onClick:()=>B("imposterHint",!c.imposterHint),className:`w-12 h-6 rounded-full transition-colors ${c.imposterHint?"bg-blue-600":"bg-slate-600"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${c.imposterHint?"translate-x-6":"translate-x-0.5"}`})})]})}),e.jsxs("div",{className:`space-y-4 ${c.wordTimeMode||c.survivalMode?"opacity-50":""}`,children:[e.jsx("div",{className:"modern-card p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"2 Imposter"}),e.jsx("p",{className:"text-slate-400 text-sm",children:c.wordTimeMode||c.survivalMode?"In speziellen Modi deaktiviert":"Mindestens 4 Spieler erforderlich"})]}),e.jsx("button",{onClick:()=>B("twoImposters",!c.twoImposters),disabled:_.length<4||c.wordTimeMode||c.survivalMode,className:`w-12 h-6 rounded-full transition-colors ${c.twoImposters?"bg-blue-600":"bg-slate-600"} ${_.length<4||c.wordTimeMode||c.survivalMode?"opacity-50":""}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${c.twoImposters?"translate-x-6":"translate-x-0.5"}`})})]})}),e.jsx("div",{className:"modern-card p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"3 Imposter"}),e.jsx("p",{className:"text-slate-400 text-sm",children:c.wordTimeMode||c.survivalMode?"In speziellen Modi deaktiviert":"Mindestens 5 Spieler erforderlich"})]}),e.jsx("button",{onClick:()=>B("threeImposters",!c.threeImposters),disabled:_.length<5||c.wordTimeMode||c.survivalMode,className:`w-12 h-6 rounded-full transition-colors ${c.threeImposters?"bg-blue-600":"bg-slate-600"} ${_.length<5||c.wordTimeMode||c.survivalMode?"opacity-50":""}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${c.threeImposters?"translate-x-6":"translate-x-0.5"}`})})]})})]})]})]})]}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{onClick:()=>f(!1),className:"modern-btn modern-btn-primary w-full py-3",children:"Fertig"})})]})})]})})},Gs=({phase:n,word:t,isImposter:s,imposterHint:r,players:i,speakingOrder:o,currentPlayerId:l,isHost:d,lobbyId:u,gameState:g,settings:b,onReady:N,onReadyForVoting:y,onReadyForNextRound:M,onVote:L,onRestartGame:E,onWordGuess:P,voteResults:f,wordGuessResult:c})=>{var V,p;const[O,_]=m.useState(""),[U,I]=m.useState(!1),[D,S]=m.useState(""),v=i.find(h=>h.id===l),R=i.filter(h=>!h.isEliminated).filter(h=>h.id!==l),q=()=>{D.trim()&&(P(D.trim()),I(!1),S(""))};if(n==="word-time-countdown")return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsx("div",{className:"modern-card rounded-3xl p-8 w-full max-w-2xl text-center animate-slide-up max-h-[calc(100vh-2rem)] overflow-y-auto",children:e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-violet-500 via-purple-500 to-indigo-500 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:e.jsx(Pe,{className:"w-12 h-12 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Wortzeit beginnt!"}),e.jsxs("p",{className:"text-slate-300 text-lg mb-6",children:["Gleich hat jeder ",b.wordTimeSeconds," Sekunden Zeit, ein Wort zu sagen"]}),g.roundNumber&&g.roundNumber>1&&e.jsxs("div",{className:"modern-card p-4 mb-6",children:[e.jsxs("h3",{className:"text-cyan-300 font-bold text-xl",children:["Runde ",g.roundNumber]}),e.jsx("p",{className:"text-cyan-400",children:"Neue zufllige Reihenfolge!"})]}),e.jsx("div",{className:"text-8xl font-bold text-white mb-4",children:g.timeRemaining||3}),e.jsx("p",{className:"text-slate-300 text-xl",children:"Sekunden bis zum Start"})]})})});if(n==="word-time-speaking"){const h=(v==null?void 0:v.username)===g.currentSpeaker;return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsx("div",{className:"modern-card rounded-3xl p-8 w-full max-w-2xl text-center animate-slide-up max-h-[calc(100vh-2rem)] overflow-y-auto",children:e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:`w-24 h-24 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg ${h?"bg-gradient-to-br from-emerald-500 to-green-500":"bg-gradient-to-br from-violet-500 to-indigo-500"}`,children:e.jsx(X,{className:"w-12 h-12 text-white"})}),e.jsx("h2",{className:`text-3xl font-bold mb-4 ${h?"text-emerald-400":"text-white"}`,children:h?"Du bist dran!":`${g.currentSpeaker} ist dran`}),e.jsx("div",{className:"text-6xl font-bold text-white mb-4",children:g.timeRemaining||b.wordTimeSeconds}),e.jsx("p",{className:"text-slate-300 text-lg",children:"Sekunden verbleibend"}),g.roundNumber&&e.jsx("div",{className:"mt-6 text-cyan-400",children:e.jsxs("p",{children:["Runde ",g.roundNumber]})}),h&&e.jsxs("div",{className:"mt-6 modern-card p-4",children:[e.jsx("p",{className:"text-emerald-300 font-semibold text-lg",children:"Sage jetzt ein Wort!"}),e.jsx("p",{className:"text-emerald-400 mt-1",children:"Nutze Voice-Chat"})]})]})})})}if(n==="word-time-waiting")return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"modern-card rounded-3xl p-8 w-full max-w-2xl text-center animate-slide-up max-h-[calc(100vh-2rem)] overflow-y-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-cyan-500 to-indigo-500 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:e.jsx(Pe,{className:"w-12 h-12 text-white"})}),e.jsxs("h2",{className:"text-3xl font-bold text-white mb-4",children:["Runde ",g.roundNumber||1," beendet!"]}),e.jsx("p",{className:"text-slate-300 text-lg mb-6",children:"Alle haben ein Wort gesagt. Was mchtet ihr als nchstes tun?"}),e.jsxs("div",{className:"space-y-4",children:[s&&e.jsxs("button",{onClick:()=>I(!0),className:"modern-btn modern-btn-danger py-4 px-8 flex items-center space-x-3 mx-auto text-lg font-semibold",children:[e.jsx(be,{className:"w-5 h-5"}),e.jsx("span",{children:"Wort erraten"})]}),v!=null&&v.readyForVoting?e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-emerald-400",children:[e.jsx(te,{className:"w-6 h-6"}),e.jsx("span",{className:"text-lg",children:"Bereit zum Abstimmen! Warte auf andere..."})]}):e.jsxs("button",{onClick:y,className:"modern-btn modern-btn-primary py-4 px-8 flex items-center space-x-3 mx-auto text-lg font-semibold",children:[e.jsx(Ee,{className:"w-5 h-5"}),e.jsx("span",{children:"Bereit zum Abstimmen"})]}),v!=null&&v.readyForNextRound?e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-cyan-400",children:[e.jsx(te,{className:"w-6 h-6"}),e.jsx("span",{className:"text-lg",children:"Bereit fr nchste Runde! Warte auf andere..."})]}):e.jsxs("button",{onClick:M,className:"modern-btn modern-btn-secondary py-4 px-8 flex items-center space-x-3 mx-auto text-lg font-semibold",children:[e.jsx(qe,{className:"w-5 h-5"}),e.jsx("span",{children:"Nchste Runde"})]})]})]}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"modern-card rounded-3xl p-8 w-full max-w-md",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:"Wort erraten"}),e.jsx("p",{className:"text-slate-300 text-sm mb-6 text-center",children:"Wenn du das richtige Wort errtst, gewinnst du. Bei einem falschen Wort verlierst du!"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:D,onChange:h=>S(h.target.value),placeholder:"Dein Wort...",className:"modern-input text-center text-lg font-semibold",maxLength:50,autoFocus:!0,onKeyPress:h=>{h.key==="Enter"&&D.trim()&&q()}}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{I(!1),S("")},className:"flex-1 modern-btn modern-btn-neutral py-3",children:"Abbrechen"}),e.jsx("button",{onClick:q,disabled:!D.trim(),className:"flex-1 modern-btn modern-btn-danger py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:"Erraten!"})]})]})]})})]})});if(n==="word-reveal")return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsx("div",{className:"modern-card rounded-3xl p-8 w-full max-w-md text-center animate-slide-up max-h-[calc(100vh-2rem)] overflow-y-auto",children:e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:`w-24 h-24 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg ${s?"bg-gradient-to-br from-red-500 to-pink-500":"bg-gradient-to-br from-violet-500 to-indigo-500"}`,children:e.jsx(Y,{className:"w-12 h-12 text-white"})}),e.jsx("h2",{className:`text-2xl font-bold mb-4 ${s?"text-pink-400":"text-violet-400"}`,children:s?"Du bist der Imposter!":"Dein Wort"}),e.jsxs("div",{children:[s?e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("p",{className:"text-pink-400 text-2xl font-semibold mb-4",children:"IMPOSTER"}),r&&e.jsxs("div",{className:"modern-card p-6 mb-4",children:[e.jsx("p",{className:"text-slate-400 text-sm mb-2",children:"Tipp:"}),e.jsx("span",{className:"text-2xl font-bold text-yellow-400 font-mono tracking-wider",children:r})]}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Alle anderen haben das gleiche Wort. Versuche dich einzufgen!"})]}):e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"modern-card p-6 mb-4",children:e.jsx("span",{className:"text-4xl font-bold text-white",children:t})}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Alle haben dieses Wort auer dem Imposter"})]}),v!=null&&v.isReady?e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-emerald-400",children:[e.jsx(te,{className:"w-6 h-6"}),e.jsx("span",{className:"text-lg",children:"Bereit! Warte auf andere..."})]}):e.jsx("button",{onClick:N,className:"modern-btn modern-btn-primary py-4 px-8 flex items-center justify-center space-x-2 mx-auto text-lg font-semibold",children:e.jsx("span",{children:"Bereit!"})})]})]})})});if(n==="discussion")return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"modern-card rounded-3xl p-8 w-full max-w-2xl animate-slide-up max-h-[calc(100vh-2rem)] overflow-y-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-cyan-500 to-indigo-500 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:e.jsx(X,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:"Diskussionsphase"}),e.jsx("p",{className:"text-slate-300 text-lg",children:"Diskutiert und findet den Imposter"})]}),o&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 text-center flex items-center justify-center space-x-2",children:[e.jsx(ie,{className:"w-5 h-5 text-violet-400"}),e.jsx("span",{children:"Sprechreihenfolge"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:o.map((h,j)=>{const W=i.find($=>$.id===l),C=(W==null?void 0:W.username)===h;return e.jsxs("div",{className:`modern-card p-4 text-center ${C?"border-violet-500/50 bg-violet-500/10":""}`,children:[e.jsxs("div",{className:"text-sm text-slate-400 mb-2",children:["#",j+1]}),e.jsx("div",{className:`font-medium text-sm ${C?"text-violet-300":"text-white"}`,children:C?`${h} (Du)`:h})]},j)})})]}),e.jsxs("div",{className:"text-center space-y-4",children:[s&&e.jsxs("button",{onClick:()=>I(!0),className:"modern-btn modern-btn-danger py-4 px-8 flex items-center space-x-3 mx-auto text-lg font-semibold",children:[e.jsx(be,{className:"w-5 h-5"}),e.jsx("span",{children:"Wort erraten"})]}),v!=null&&v.readyForVoting?e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-emerald-400",children:[e.jsx(te,{className:"w-6 h-6"}),e.jsx("span",{className:"text-lg",children:"Bereit! Warte auf andere..."})]}):e.jsxs("button",{onClick:y,className:"modern-btn modern-btn-primary py-4 px-8 flex items-center space-x-3 mx-auto text-lg font-semibold",children:[e.jsx(Ee,{className:"w-5 h-5"}),e.jsx("span",{children:"Bereit zum Abstimmen"})]})]}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"modern-card rounded-3xl p-8 w-full max-w-md",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:"Wort erraten"}),e.jsx("p",{className:"text-slate-300 text-sm mb-6 text-center",children:"Wenn du das richtige Wort errtst, gewinnst du. Bei einem falschen Wort verlierst du!"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:D,onChange:h=>S(h.target.value),placeholder:"Dein Wort...",className:"modern-input text-center text-lg font-semibold",maxLength:50,autoFocus:!0,onKeyPress:h=>{h.key==="Enter"&&D.trim()&&q()}}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{I(!1),S("")},className:"flex-1 modern-btn modern-btn-neutral py-3",children:"Abbrechen"}),e.jsx("button",{onClick:q,disabled:!D.trim(),className:"flex-1 modern-btn modern-btn-danger py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:"Erraten!"})]})]})]})})]})});if(n==="voting")return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"modern-card rounded-3xl p-8 w-full max-w-2xl animate-slide-up max-h-[calc(100vh-2rem)] overflow-y-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-violet-500 to-purple-500 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:e.jsx(Ee,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:"Abstimmungsphase"}),e.jsx("p",{className:"text-slate-300 text-lg",children:"Stimme fr die Person ab, von der du denkst, dass sie der Imposter ist"})]}),v!=null&&v.hasVoted?e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-emerald-400 mb-4",children:[e.jsx(te,{className:"w-8 h-8"}),e.jsx("span",{className:"text-xl",children:"Stimme abgegeben!"})]}),e.jsx("p",{className:"text-slate-300 text-lg",children:"Warte darauf, dass andere Spieler abstimmen..."})]}):e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-6 text-center",children:"Whle einen Spieler zum Eliminieren:"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8",children:R.map(h=>e.jsx("button",{onClick:()=>_(h.id),className:`p-4 rounded-2xl border transition-all duration-200 ${O===h.id?"bg-violet-500/20 border-violet-500 text-white":"modern-card text-slate-300"}`,children:e.jsx("div",{className:"font-semibold text-lg",children:h.username})},h.id))}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>L(O),disabled:!O,className:"modern-btn modern-btn-primary py-4 px-8 disabled:opacity-50 disabled:cursor-not-allowed text-lg font-semibold",children:"Stimme abgeben"})})]})]})});if(n==="results"&&(f||c)){const h=!!c,j=(f==null?void 0:f.survivalWinners)&&f.survivalWinners.length>0;return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"modern-card rounded-3xl p-8 w-full max-w-2xl animate-slide-up max-h-[calc(100vh-2rem)] overflow-y-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:`w-24 h-24 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg ${j?"bg-gradient-to-br from-yellow-500 to-orange-500":h?c.wasCorrect?"bg-gradient-to-br from-emerald-500 to-green-500":"bg-gradient-to-br from-red-500 to-pink-500":f!=null&&f.wasImposter?"bg-gradient-to-br from-emerald-500 to-green-500":"bg-gradient-to-br from-red-500 to-pink-500"}`,children:e.jsx("span",{className:"text-4xl",children:j?"":h?c.wasCorrect?"":"":f!=null&&f.wasImposter?"":""})}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:j?"berlebens-Spiel beendet!":h?"Wort erraten!":"Abstimmungsergebnisse"}),j?e.jsxs("div",{children:[e.jsxs("p",{className:"text-xl font-semibold mb-4 text-yellow-400",children:["Gewinner: ",(V=f==null?void 0:f.survivalWinners)==null?void 0:V.join(" & "),"! "]}),e.jsx("p",{className:"text-lg mb-4 text-yellow-300",children:"Nur noch 2 Spieler brig - das berlebens-Spiel ist beendet!"})]}):h?e.jsxs("div",{children:[e.jsxs("p",{className:`text-xl font-semibold mb-4 ${c.wasCorrect?"text-emerald-400":"text-red-400"}`,children:[c.imposterName,' hat "',c.guessedWord,'" geraten!']}),e.jsx("p",{className:`text-lg mb-4 ${c.wasCorrect?"text-emerald-400":"text-red-400"}`,children:c.wasCorrect?"Richtig! Der Imposter gewinnt! ":"Falsch! Der Imposter verliert! "})]}):e.jsxs("div",{children:[e.jsxs("p",{className:`text-xl font-semibold mb-4 ${f!=null&&f.wasImposter?"text-emerald-400":"text-red-400"}`,children:[f==null?void 0:f.eliminatedPlayer," wurde eliminiert!"]}),e.jsx("p",{className:`text-lg mb-4 ${f!=null&&f.wasImposter?"text-emerald-400":"text-red-400"}`,children:f!=null&&f.wasImposter?"Es war der Imposter! ":"Es war unschuldig! Der Imposter gewinnt! "})]}),e.jsx("div",{className:"modern-card p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-slate-400 mb-2",children:"Das Wort war:"}),e.jsx("p",{className:"text-white font-bold text-xl",children:h?c.correctWord:(f==null?void 0:f.word)||t})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-slate-400 mb-2",children:j?"Die Gewinner:":"Der Imposter war:"}),e.jsx("p",{className:`font-bold text-xl ${j?"text-yellow-400":"text-pink-400"}`,children:j?(p=f==null?void 0:f.survivalWinners)==null?void 0:p.join(" & "):h?c.imposterName:f==null?void 0:f.imposterName})]})]})})]}),!h&&!j&&f&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-6 text-center",children:"Abstimmungsergebnisse:"}),e.jsx("div",{className:"space-y-3",children:Object.entries(f.voteCount).map(([W,C])=>{const $=i.find(A=>A.id===W);return e.jsxs("div",{className:"flex justify-between items-center modern-card p-4",children:[e.jsx("span",{className:"text-white font-medium text-lg",children:$==null?void 0:$.username}),e.jsxs("span",{className:"text-slate-400 text-lg",children:[C," Stimme",C!==1?"n":""]})]},W)})})]}),e.jsx("div",{className:"text-center",children:d?e.jsxs("button",{onClick:E,className:"modern-btn modern-btn-primary py-4 px-8 flex items-center justify-center space-x-3 mx-auto text-lg font-semibold",children:[e.jsx(xt,{className:"w-6 h-6"}),e.jsx("span",{children:"Neue Runde starten"})]}):e.jsx("div",{className:"text-slate-300",children:e.jsx("p",{className:"text-lg",children:"Warte darauf, dass der Host eine neue Runde startet..."})})})]})})}return null},Ys=n=>{const{code:t}=Ie();return e.jsx(oe,{maxWidth:"full",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(Gs,{...n})})})},Ze=({user:n,onUpdate:t})=>{const{userId:s}=Ie(),r=ge(),[i,o]=m.useState(n||null),[l,d]=m.useState(!1),[u,g]=m.useState(""),[b,N]=m.useState(!1),[y,M]=m.useState(""),[L,E]=m.useState(""),[P,f]=m.useState(""),[c,O]=m.useState(!1),[_,U]=m.useState(!1),[I,D]=m.useState(!1),[S,v]=m.useState(!1),[B,R]=m.useState(null),V=!(!s||n&&s===n.id);m.useEffect(()=>{s&&s!==(n==null?void 0:n.id)?(v(!0),(async()=>{try{const H=await(await fetch(`/api/user/${s}`)).json();H.success?o(H.user):R("Benutzer nicht gefunden. Mglicherweise wurde die Datenbank zurckgesetzt.")}catch{R("Verbindungsfehler beim Laden des Profils")}finally{v(!1)}})()):n&&(o(n),g(n.username))},[s,n]);const p=A=>{const G=A.target.value;G.length<=20&&g(G)},h=async()=>{if(!i||!u.trim()){R("Benutzername darf nicht leer sein.");return}if(u.length<3||u.length>20){R("Benutzername muss zwischen 3 und 20 Zeichen lang sein.");return}if(b){if(!y){R("Aktuelles Passwort ist erforderlich.");return}if(L.length<6){R("Neues Passwort muss mindestens 6 Zeichen lang sein.");return}if(L!==P){R("Passwrter stimmen nicht berein.");return}}v(!0),R(null);try{const A={userId:i.id};u!==i.username&&(A.newUsername=u.trim()),b&&(A.currentPassword=y,A.newPassword=L);const H=await(await fetch("/api/update-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)})).json();H.success?(o(H.user),t&&t(H.user),d(!1),N(!1),M(""),E(""),f("")):R(H.error||"Fehler beim Aktualisieren des Profils")}catch{R("Verbindungsfehler. Bitte versuche es erneut.")}finally{v(!1)}},j=()=>{d(!1),N(!1),g((i==null?void 0:i.username)||""),M(""),E(""),f(""),R(null)};if(!i)return e.jsx(oe,{children:e.jsx("div",{className:"text-center space-y-4",children:S?e.jsx("p",{className:"text-slate-400",children:"Profil wird geladen..."}):B?e.jsxs("div",{className:"modern-card bg-red-500/10 border-red-500/30 p-6",children:[e.jsx("p",{className:"text-red-300 mb-4",children:B}),e.jsx("button",{onClick:()=>r("/dashboard"),className:"modern-btn modern-btn-primary py-2 px-4",children:"Zurck zum Dashboard"})]}):e.jsx("p",{className:"text-slate-400",children:"Profil nicht gefunden."})})});const W=i.gamesPlayed||0,C=i.timesImposter||0,$=i.imposterWins||0;return e.jsx(oe,{maxWidth:"md",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("button",{onClick:()=>r(-1),className:"flex items-center space-x-2 text-slate-400 hover:text-white transition-colors",children:[e.jsx(Bs,{className:"w-5 h-5"}),e.jsx("span",{children:"Zurck"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-3xl flex items-center justify-center mx-auto border-4 border-blue-500/30 shadow-lg mb-6",children:e.jsx(Ne,{className:"w-12 h-12 text-white"})}),e.jsx("div",{children:l&&!V?e.jsxs("div",{children:[e.jsx("input",{type:"text",value:u,onChange:p,className:"modern-input text-xl font-bold text-white text-center",maxLength:20}),e.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:[u.length,"/20 Zeichen"]})]}):e.jsx("h1",{className:"text-3xl font-bold text-white",children:V?`${i.username}'s Profil`:i.username})})]}),B&&e.jsx("div",{className:"modern-card bg-red-500/10 border-red-500/30 p-4 text-center",children:e.jsx("p",{className:"text-red-300 text-sm",children:B})}),l&&!V&&e.jsxs("div",{className:"modern-card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center space-x-2",children:[e.jsx(de,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{children:"Passwort ndern"})]}),e.jsx("button",{onClick:()=>N(!b),className:"text-blue-400 hover:text-blue-300 text-sm",children:b?"Abbrechen":"ndern"})]}),b&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Aktuelles Passwort"}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx("input",{type:c?"text":"password",value:y,onChange:A=>M(A.target.value),className:"modern-input pl-12 pr-14",placeholder:"Aktuelles Passwort"}),e.jsx("button",{type:"button",onClick:()=>O(!c),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-white transition-colors",children:c?e.jsx(xe,{className:"w-5 h-5"}):e.jsx(Y,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Neues Passwort"}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx("input",{type:_?"text":"password",value:L,onChange:A=>E(A.target.value),className:"modern-input pl-12 pr-14",placeholder:"Neues Passwort",minLength:6}),e.jsx("button",{type:"button",onClick:()=>U(!_),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-white transition-colors",children:_?e.jsx(xe,{className:"w-5 h-5"}):e.jsx(Y,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Passwort besttigen"}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx("input",{type:I?"text":"password",value:P,onChange:A=>f(A.target.value),className:"modern-input pl-12 pr-14",placeholder:"Passwort besttigen",minLength:6}),e.jsx("button",{type:"button",onClick:()=>D(!I),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-white transition-colors",children:I?e.jsx(xe,{className:"w-5 h-5"}):e.jsx(Y,{className:"w-5 h-5"})})]})]})]})]}),e.jsxs("div",{className:"modern-card p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-white mb-6 flex items-center space-x-2",children:[e.jsx(ie,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{children:"Statistiken"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-400 mb-2",children:[e.jsx(X,{className:"w-6 h-6"}),e.jsx("span",{className:"text-2xl font-bold",children:W})]}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Spiele"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-purple-400 mb-2",children:[e.jsx(bt,{className:"w-6 h-6"}),e.jsx("span",{className:"text-2xl font-bold",children:C})]}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Imposter"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-400 mb-2",children:[e.jsx(be,{className:"w-6 h-6"}),e.jsx("span",{className:"text-2xl font-bold",children:$})]}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Imposter Siege"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-6 border-t border-slate-700",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-slate-400 text-sm mb-2",children:"Imposter-Rate"}),e.jsxs("p",{className:"text-lg font-bold text-cyan-400",children:[W>0?Math.round(C/W*100):0,"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-slate-400 text-sm mb-2",children:"Imposter Siegesrate"}),e.jsxs("p",{className:"text-lg font-bold text-green-400",children:[C>0?Math.round($/C*100):0,"%"]})]})]})]}),!V&&e.jsx("div",{className:"flex space-x-3",children:l?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:j,disabled:S,className:"modern-btn modern-btn-neutral flex-1 py-3 disabled:opacity-50",children:"Abbrechen"}),e.jsxs("button",{onClick:h,disabled:S,className:"modern-btn modern-btn-primary flex-1 py-3 flex items-center justify-center space-x-2 disabled:opacity-50",children:[e.jsx(zs,{className:"w-4 h-4"}),e.jsx("span",{children:S?"Speichern...":"Speichern"})]})]}):e.jsxs("button",{onClick:()=>d(!0),className:"modern-btn modern-btn-primary w-full py-3 flex items-center justify-center space-x-2",children:[e.jsx($s,{className:"w-4 h-4"}),e.jsx("span",{children:"Profil bearbeiten"})]})})]})})},Ge=({message:n="Loading..."})=>e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[e.jsx(Ws,{className:"w-8 h-8 text-purple-500 animate-spin"}),e.jsx("p",{className:"text-gray-400 text-sm",children:n})]});function Xs(){const n=As(),t=ge(),s=Ye(),[r,i]=m.useState(null),[o,l]=m.useState(""),[d,u]=m.useState(""),[g,b]=m.useState(""),[N,y]=m.useState(!1),[M,L]=m.useState(""),[E,P]=m.useState([]),[f,c]=m.useState({phase:"lobby",speakingOrder:null}),[O,_]=m.useState({word:null,isImposter:!1,phase:"lobby"}),[U,I]=m.useState(!1),[D,S]=m.useState(null),[v,B]=m.useState(null),[R,q]=m.useState(null),[V,p]=m.useState(!1),[h,j]=m.useState({randomOrder:!0,twoImposters:!1,threeImposters:!1,imposterHint:!1,wordTimeMode:!1,survivalMode:!1,wordTimeSeconds:10});m.useEffect(()=>{const a=localStorage.getItem("imposter-user");if(a)try{const x=JSON.parse(a);p(!0),W(x)}catch(x){console.error("Error parsing saved user data:",x),localStorage.removeItem("imposter-user"),s.pathname!=="/"&&t("/")}},[t,s.pathname]);const W=async a=>{try{const Q=await(await fetch("/api/verify-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:a.id})})).json();Q.success?(i(Q.user),localStorage.setItem("imposter-user",JSON.stringify(Q.user)),s.pathname==="/"&&t("/dashboard")):(console.log("User no longer exists in database, logging out"),A(),S("Dein Account wurde nicht gefunden. Mglicherweise wurde die Datenbank zurckgesetzt. Bitte melde dich erneut an."))}catch(x){console.error("Error verifying user:",x),i(a),s.pathname==="/"&&t("/dashboard")}finally{p(!1)}};m.useEffect(()=>{if(r&&s.pathname.startsWith("/lobby/")){const a=s.pathname.match(/\/lobby\/([A-Z0-9]{6})$/);if(a&&!o){const x=a[1];H(x)}}},[r,s.pathname,o]),m.useEffect(()=>(O.phase&&O.phase!=="lobby"&&O.phase!=="results"?(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden"):(document.body.style.overflow="",document.documentElement.style.overflow=""),()=>{document.body.style.overflow="",document.documentElement.style.overflow=""}),[O.phase]),m.useEffect(()=>{if(n)return window.socket=n,window.currentLobbyId=d,console.log("Setting global lobbyId:",d),n.on("connect",()=>{console.log("Socket connected"),r&&n.emit("authenticate",r)}),n.on("disconnect",()=>{console.log("Socket disconnected"),r&&S("Verbindung verloren. Bitte lade die Seite neu.")}),n.on("connect_error",a=>{console.error("Socket connection error:",a),S("Verbindung zum Server fehlgeschlagen. Bitte versuche es erneut.")}),n.on("authenticated",a=>{a.success?console.log("Socket authenticated successfully"):console.error("Socket authentication failed")}),n.on("user-updated",a=>{console.log("User stats updated:",a),i(a),localStorage.setItem("imposter-user",JSON.stringify(a))}),n.on("lobby-created",a=>{l(a.lobbyCode),u(a.lobbyId),b(a.playerId),y(a.isHost),L(a.hostUsername||(r==null?void 0:r.username)||""),I(!1),t(`/lobby/${a.lobbyCode}`),console.log("Lobby created with ID:",a.lobbyId)}),n.on("lobby-joined",a=>{l(a.lobbyCode),u(a.lobbyId),b(a.playerId),y(a.isHost),L(a.hostUsername||""),I(!1),t(`/lobby/${a.lobbyCode}`),console.log("Lobby joined with ID:",a.lobbyId)}),n.on("host-transferred",a=>{y(a.isHost),console.log("Host transferred, new host status:",a.isHost)}),n.on("lobby-updated",a=>{console.log("Received lobby update with settings:",a.settings),P(a.players),c(a.gameState),a.settings&&(console.log("Updating lobby settings from server:",a.settings),j(a.settings));const x=a.players.find(ve=>ve.isHost);x&&L(x.username);const Q=a.players.find(ve=>ve.id===g);Q&&y(Q.isHost)}),n.on("game-started",a=>{_({word:a.word,isImposter:a.isImposter,phase:a.phase,imposterHint:a.imposterHint}),t(`/game/${o}`)}),n.on("discussion-phase",a=>{_(x=>({...x,phase:a.phase})),c(x=>({...x,phase:a.phase,speakingOrder:a.speakingOrder}))}),n.on("word-time-countdown",a=>{_(x=>({...x,phase:"word-time-countdown"})),c(x=>({...x,phase:"word-time-countdown",speakingOrder:a.speakingOrder,timeRemaining:a.timeRemaining,roundNumber:a.roundNumber}))}),n.on("word-time-speaking",a=>{_(x=>({...x,phase:"word-time-speaking"})),c(x=>({...x,phase:"word-time-speaking",currentSpeaker:a.currentSpeaker,timeRemaining:a.timeRemaining,roundNumber:a.roundNumber}))}),n.on("word-time-waiting",a=>{_(x=>({...x,phase:"word-time-waiting"})),c(x=>({...x,phase:"word-time-waiting",roundNumber:a.roundNumber}))}),n.on("voting-phase",a=>{_(x=>({...x,phase:"voting"})),c(x=>({...x,phase:"voting"}))}),n.on("voting-results",a=>{B(a),q(null),_(x=>({...x,phase:a.phase})),c(x=>({...x,phase:a.phase}))}),n.on("word-guess-result",a=>{q(a),B(null),_(x=>({...x,phase:a.phase})),c(x=>({...x,phase:a.phase}))}),n.on("game-restarted",a=>{_({word:null,isImposter:!1,phase:a.phase}),c({phase:a.phase,speakingOrder:null}),B(null),q(null),t(`/lobby/${o}`)}),n.on("survival-next-round",a=>{_({word:a.word,isImposter:a.isImposter,phase:a.phase,imposterHint:a.imposterHint}),c({phase:a.phase,speakingOrder:null}),B(null),q(null)}),n.on("survival-game-ended",a=>{B({eliminatedPlayer:"",wasImposter:!1,voteCount:{},word:a.lastWord,imposterName:a.winners.join(", "),survivalWinners:a.winners}),_(x=>({...x,phase:"results"})),c(x=>({...x,phase:"results"}))}),n.on("lobby-closed",()=>{S("Die Lobby wurde vom Host geschlossen."),setTimeout(()=>{S(null),t("/dashboard"),C()},3e3)}),n.on("error",a=>{S(a.message),I(!1)}),()=>{n.off("connect"),n.off("disconnect"),n.off("connect_error"),n.off("authenticated"),n.off("user-updated"),n.off("lobby-created"),n.off("lobby-joined"),n.off("host-transferred"),n.off("lobby-updated"),n.off("game-started"),n.off("discussion-phase"),n.off("word-time-countdown"),n.off("word-time-speaking"),n.off("word-time-waiting"),n.off("voting-phase"),n.off("voting-results"),n.off("word-guess-result"),n.off("game-restarted"),n.off("survival-next-round"),n.off("survival-game-ended"),n.off("lobby-closed"),n.off("error")}},[n,r,d,o,t,g]);const C=()=>{l(""),u(""),b(""),y(!1),L(""),P([]),c({phase:"lobby",speakingOrder:null}),_({word:null,isImposter:!1,phase:"lobby"}),B(null),q(null),j({randomOrder:!0,twoImposters:!1,threeImposters:!1,imposterHint:!1,wordTimeMode:!1,survivalMode:!1,wordTimeSeconds:10})},$=a=>{console.log("User logged in:",a),i(a),t("/dashboard"),localStorage.setItem("imposter-user",JSON.stringify(a)),n&&n.connected&&n.emit("authenticate",a)},A=()=>{i(null),t("/"),C(),localStorage.removeItem("imposter-user")},G=()=>{if(!n||!r){S("Bitte lade die Seite neu und versuche es erneut.");return}I(!0),n.emit("create-lobby",{username:r.username})},H=a=>{if(!n||!r){S("Bitte lade die Seite neu und versuche es erneut.");return}I(!0),n.emit("join-lobby",{username:r.username,lobbyCode:a})},gt=()=>{n&&(n.emit("leave-lobby",{lobbyId:d}),t("/dashboard"),C())},yt=()=>{!n||!N||(n.emit("close-lobby",{lobbyId:d}),t("/dashboard"),C())},wt=()=>{n&&n.emit("start-game",{lobbyId:d,settings:h})},jt=()=>{n&&n.emit("player-ready",{lobbyId:d})},Nt=()=>{n&&n.emit("ready-for-voting",{lobbyId:d})},vt=()=>{n&&n.emit("ready-for-next-round",{lobbyId:d})},kt=a=>{n&&n.emit("cast-vote",{lobbyId:d,targetPlayerId:a})},ze=()=>{n&&n.emit("restart-game",{lobbyId:d})},_t=a=>{console.log("Updating settings:",a),j(a),n&&n.emit("update-settings",{lobbyId:d,settings:a})},St=a=>{console.log("Profile updated:",a),i(a),localStorage.setItem("imposter-user",JSON.stringify(a))},Et=a=>{if(!n||!d){console.error("Socket or lobbyId not available");return}console.log("Sending word guess from App:",{lobbyId:d,guessedWord:a}),n.emit("guess-word",{lobbyId:d,guessedWord:a})};return D?e.jsxs(e.Fragment,{children:[e.jsx(ce,{}),e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"modern-card bg-red-900/20 border-red-500/30 rounded-3xl p-8 w-full max-w-md text-center",children:[e.jsx("div",{className:"text-6xl mb-6",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Fehler"}),e.jsx("p",{className:"text-red-300 mb-6",children:D}),e.jsx("button",{onClick:()=>{S(null),t(r?"/dashboard":"/")},className:"modern-btn modern-btn-danger w-full py-3",children:"Erneut versuchen"})]})})]}):U?e.jsxs(e.Fragment,{children:[e.jsx(ce,{}),e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Ge,{message:"Verbinde..."})})]}):V?e.jsxs(e.Fragment,{children:[e.jsx(ce,{}),e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Ge,{message:"berprfe Benutzerdaten..."})})]}):e.jsxs(e.Fragment,{children:[e.jsx(ce,{}),e.jsxs("div",{className:"min-h-screen",children:[r&&e.jsx(Ks,{user:r,onLogout:A,lobbyCode:o,hostUsername:M,gamePhase:f.phase}),e.jsxs(Tt,{children:[e.jsx(ee,{path:"/",element:e.jsx(he,{onLogin:$})}),e.jsx(ee,{path:"/dashboard",element:r?e.jsx(Js,{user:r,onCreateLobby:G,onJoinLobby:H,loading:U}):e.jsx(he,{onLogin:$})}),e.jsx(ee,{path:"/lobby/:code",element:r?e.jsx(Zs,{lobbyCode:o,players:E,gameState:f,currentPlayerId:g,isHost:N,hostUsername:M,onStartGame:wt,onRestartGame:ze,onLeaveLobby:gt,onCloseLobby:yt,onUpdateSettings:_t,settings:h}):e.jsx(he,{onLogin:$})}),e.jsx(ee,{path:"/game/:code",element:e.jsx(Ys,{phase:O.phase,word:O.word,isImposter:O.isImposter,imposterHint:O.imposterHint,players:E,speakingOrder:f.speakingOrder,currentPlayerId:g,isHost:N,lobbyId:d,gameState:f,settings:h,onReady:jt,onReadyForVoting:Nt,onReadyForNextRound:vt,onVote:kt,onRestartGame:ze,onWordGuess:Et,voteResults:v,wordGuessResult:R})}),e.jsx(ee,{path:"/profile",element:r?e.jsx(Ze,{user:r,onUpdate:St}):e.jsx(he,{onLogin:$})}),e.jsx(ee,{path:"/profile/:userId",element:e.jsx(Ze,{})})]})]})]})}et(document.getElementById("root")).render(e.jsx(m.StrictMode,{children:e.jsx(At,{children:e.jsx(Xs,{})})}));
